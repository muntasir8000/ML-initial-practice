# This r script is for learning purpose of predicting the survivors from titanic dataset
# Import the training set: train
# Install necessary packages and set working directory

# Source from web content
# train <- read.csv('https://raw.githubusercontent.com/raqueeb/mltraining/master/ML-workbook/train.csv')
train <- read.csv("~/datasets/titanic/train.csv")

# viewing the "train" dataframe in table format

View(train)

# Import the testing set: test

# test <- read.csv('https://raw.githubusercontent.com/raqueeb/mltraining/master/ML-workbook/test.csv')
test <- read.csv("~/datasets/titanic/test.csv")

# view the test dataframe

View(test)

# Some exploratory data analysis, basic level.
# How many people in training set survived?

table(train$Survived) 

# Proportions of people who survived

prop.table(table(train$Survived))

# Gender in two way comparison of survived people 

table(train$Sex, train$Survived)

table(train$Survived)

# 0   1 
# 549 342 

# what about the proportion? in percentage

prop.table(table(train$Survived))*100

# 0         1 
# 0.6161616 0.3838384 

# Visual representation of survived in train dataset

barplot(table(train$Survived), xlab="Survived", ylab="People", main="Train Data Survival")

# Considering everyone died in test dataset, I'm making the first prediction
# rep command the value 0 418 times in the newly created $Survived column

test$Survived <- rep(0, 418)

# write.csv fuction writes the prediction dataframe out to a CSV file, excluding the row numbers

prediction <- data.frame(PassengerId = test$PassengerId, Survived = test$Survived)
write.csv(prediction, file = "alldies.csv", row.names = FALSE)
